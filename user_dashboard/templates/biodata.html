{% extends base %}
{% load static %}

{% block mainbar %}
<div class="grid grid-cols-[repeat(4,minmax(260px,1fr))] gap-4 w-screen px-4 py-4 w-full min-h-screen p-10">
    <div class="col-span-1 flex flex-col gap-4 items-center">
        <div class="h-min w-full max-w-80 flex flex-col gap-4 items-center p-5 border-2 border-gray-300 rounded-md m-5">
            {% if request.user.userprofile.profile_picture %}
                <img class="w-28 h-28" src="{{ request.user.userprofile.profile_picture.url }}" alt="Profile Picture" width="400" height="400">
            {% else %}
                <img class="w-28 h-28" src="{% static 'user_dashboard/image/default-profile.png' %}" alt="Default Profile Picture" width="400" height="400">
            {% endif %}

            <form class="flex flex-col gap-3 items-center" action="{% url 'dashboard:upload_profile_picture' %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
                <label for="profile_picture">Upload Profile Picture</label>
                <input class="block w-full text-sm text-gray-900 border border-gray-300 rounded cursor-pointer bg-gray-50 focus:outline-none" type="file" name="profile_picture" id="profile_picture" accept="image/*">
                <button class="text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2" type="submit">Upload</button>
            </form>
        </div>
        <a class="w-full max-w-80" href={% url 'dashboard:change_password' %}>
            <div class="w-full flex gap-2 items-center text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 font-medium rounded-lg text-sm px-5 py-2.5">
                <svg xmlns="http://www.w4.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M80-200v-80h800v80H80Zm46-242-52-30 34-60H40v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Zm320 0-52-30 34-60h-68v-60h68l-34-58 52-30 34 58 34-58 52 30-34 58h68v60h-68l34 60-52 30-34-60-34 60Z"/></svg>
                    Change Password
            </div>
        </a>
    </div>


    <div class="col-span-3 flex flex-col gap-3">
        <h2 class="p-5 font-bold text-lg"> Ubah Data Diri </h2>

    </div>
</div>

<script src="{% static 'user_dashboard/js/show_messages.js' %}"></script>
{% endblock mainbar %}